<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A survey of shinysurveys • shinysurveys</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><!-- Latest compiled and minified CSS --><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../jdtrat/jdtrat.css" rel="stylesheet">
<link href="../jdtrat/jdtrat-2.css" rel="stylesheet">
<meta property="og:title" content="A survey of shinysurveys">
<meta property="og:description" content="shinysurveys">
<meta property="og:image" content="https://shinysurveys.jdtrat.com/reference/figures/logo.png">
<meta property="og:image:alt" content="shinysurveys package">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shinysurveys</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0.9000</span>
      </span>

      <!--<div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">shinysurveys</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of  <a href=""></a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0.9000</span>
        </div>
      </div>-->
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/shinysurveys.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/surveying-shinysurveys.html">A survey of shinysurveys</a>
    </li>
    <li>
      <a href="../articles/custom-input-extensions.html">Extending shinysurveys with Custom Input Types</a>
    </li>
    <li>
      <a href="../articles/get-survey-data.html">Aggregate Responses with `getSurveyData()`</a>
    </li>
  </ul>
</li>
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../news/index.html">Changelog</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Blog posts</li>
    <li>
      <a href="https://www.jdtrat.com/blog/shinysurveys-0-2-0/" class="external-link">shinysurveys 0.2.0</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/jdtrat/shinysurveys" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="surveying-shinysurveys_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A survey of shinysurveys</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jdtrat/shinysurveys/blob/HEAD/vignettes/surveying-shinysurveys.Rmd" class="external-link"><code>vignettes/surveying-shinysurveys.Rmd</code></a></small>
      <div class="hidden name"><code>surveying-shinysurveys.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The ability to easily collect and analyze survey data is incredibly important. Many platforms provide user-friendly methods to do this. <a href="https://www.google.com/forms/about/" class="external-link">Google Forms</a>, <a href="https://www.surveymonkey.com/" class="external-link">SurveyMonkey</a>, and <a href="https://www.qualtrics.com/core-xm/survey-software/" class="external-link">Qualtrics</a> are all popular options. However, these services don’t always integrate easily with existing data analysis and/or research pipelines. Because of R’s prevalence in academia and research, {shinysurveys} was developed to streamline the data collection and analysis process.</p>
<p>In this vignette, I provide an overview of the main features of shinysurveys.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> Aligned with the basic structure of {shiny} applications, consisting of the user-interface and server components, this package has a function for each: <code><a href="../reference/surveyOutput.html">surveyOutput()</a></code> and <code><a href="../reference/renderSurvey.html">renderSurvey()</a></code>, respectively. The former accepts a data frame of questions that follow a specific format. To illustrate this, I will show a questionnaire from a recent study conducted by the <a href="https://dmds.lucymcgowan.com/" class="external-link">D’Agostino McGowan Data Science Lab</a> that is built into the <code>shinysurveys</code> package.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> The first ten (of 54) rows of this data frame look like:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 7</span></span>
<span class="co">#&gt;    question      option input_type input_id dependence dependence_value required</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> What's your … 25     numeric    age      <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Which best d… Female mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Which best d… Male   mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Which best d… Prefe… mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Which best d… Prefe… mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Which best d… <span style="color: #BB0000;">NA</span>     text       self_de… gender     Prefer to self … FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> What is the … Did n… select     educati… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> What is the … Some … select     educati… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> What is the … High … select     educati… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> What is the … Some … select     educati… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE</span></code></pre>
<p>This data can be described as a tidy data frame, where each row is a unique observation and each column is a variable. While the full table consists of 54 rows, there are only 11 unique questions:</p>
<pre><code><span class="co">#&gt;  [1] "What's your age?"                                                               </span>
<span class="co">#&gt;  [2] "Which best describes your gender?"                                              </span>
<span class="co">#&gt;  [3] "What is the highest level of education you have attained?"                      </span>
<span class="co">#&gt;  [4] "What was your first language?"                                                  </span>
<span class="co">#&gt;  [5] "In what language do you read most often?"                                       </span>
<span class="co">#&gt;  [6] "Have you ever learned to program in R?"                                         </span>
<span class="co">#&gt;  [7] "If yes, how many years have you been using R?"                                  </span>
<span class="co">#&gt;  [8] "Have you ever learned a programming language (other than R)?"                   </span>
<span class="co">#&gt;  [9] "If yes, which language(s) and how many years have you been using each language?"</span>
<span class="co">#&gt; [10] "Have you ever completed a data analysis?"                                       </span>
<span class="co">#&gt; [11] "If yes, approximately how many data analyses have you completed?"</span></code></pre>
<p>The reason for the discrepancy between the number of rows and unique questions derives from the fact that certain questions can have more than one possible response. For example, the multiple choice question asking about gender has four options: “Female”, “Male”, “Prefer not to say”, or “Prefer to self describe.” It thus has four rows, one per each option.</p>
<p>To create a question in the required format, seven parameters must be supplied. They are described in the package documentation and can be accessed by typing <code><a href="../reference/teaching_r_questions.html">?shinysurveys::teaching_r_questions</a></code> in the R console:</p>
<ul>
<li>
<em>question</em>: The question to be asked.</li>
<li>
<em>option</em>: A possible response to the question. In multiple choice questions, for example, this would be the possible answers. For questions without discrete answers, such as a numeric input, this would be the default option shown on the input. For text inputs, it is the placeholder value.</li>
<li>
<em>input_type</em>: What type of response is expected? Currently supported types include <code>numeric</code>, <code>mc</code> for multiple choice, <code>text</code>, <code>select</code>,and <code>y/n</code> for yes/no questions.</li>
<li>
<em>input_id</em>: The input id for Shiny inputs.</li>
<li>
<em>dependence</em>: Does this question (row) depend on another? That is, should it only appear if a different question has a specific value? This column contains the input_id of whatever question this one depends upon.</li>
<li>
<em>dependence_value</em>: This column contains the specific value that the dependence question must take for this question (row) to be shown.</li>
<li>
<em>required</em>: logical TRUE/FALSE signifying if a question is required.</li>
</ul>
<p>The next section describes input types native to {shinysurveys}.</p>
<div class="section level3">
<h3 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h3>
<p>Below are examples of the currently supported question types. I provide a thorough explanation for the numeric input, but only point out notable differences for other inputs.</p>
<div class="section level4">
<h4 id="numeric-input">Numeric Input<a class="anchor" aria-label="anchor" href="#numeric-input"></a>
</h4>
<p>A good example of a numeric input is the first question: “What’s your age?”:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span>
<span class="co">#&gt;   question       option input_type input_id dependence dependence_value required</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> What's your a… 25     numeric    age      <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE</span></code></pre>
<p>As seen above, this row corresponds to the question “What’s your age?”. I know to expect a numeric response by looking at the <code>input_type</code> column, and the default value is equal to 25 according to the <code>option</code> column.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<p>I can also tell that there are no dependency questions. This means that no matter what value is entered, no follow-up question will appear. Lastly, I know it is a required question.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
<p><img src="graphics/survey-of-shinysurveys/numeric_example.png" style="display: block; margin: 1em auto" width="300"></p>
</div>
<div class="section level4">
<h4 id="multiple_choice">Multiple Choice (mc) Input<a class="anchor" aria-label="anchor" href="#multiple_choice"></a>
</h4>
<p>An example of this is the question “Which best describes your gender?”:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 7</span></span>
<span class="co">#&gt;   question       option input_type input_id dependence dependence_value required</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Which best de… Female mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Which best de… Male   mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Which best de… Prefe… mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Which best de… Prefe… mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Which best de… <span style="color: #BB0000;">NA</span>     text       self_de… gender     Prefer to self … FALSE</span></code></pre>
<p>Unlike numeric inputs, the <code>option</code> column represents each of the possible responses for this question. You may notice that the fifth row of this question has <em>NA</em> in the <code>option</code> column and “text” in the <code>input_type</code> column. I will discuss this in more detail <a href="#dependency-questions">below</a>, but for now, note that this question has a dependent. That is, if a specific option is chosen for this question, a new one will appear below. In this case, a question that accepts text as its input.</p>
<p><img src="graphics/survey-of-shinysurveys/mc_example.png" style="display: block; margin: 1em auto" width="300"></p>
</div>
<div class="section level4">
<h4 id="text_input">Text Input<a class="anchor" aria-label="anchor" href="#text_input"></a>
</h4>
<p>Questions that need text-based input should specify “text” in the <code>input_type</code> column. As noted in the previous example, the following is a dependent of the question “Which best describes your gender?”:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span>
<span class="co">#&gt;   question       option input_type input_id dependence dependence_value required</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Which best de… <span style="color: #BB0000;">NA</span>     text       self_de… gender     Prefer to self … FALSE</span></code></pre>
<p>As previously mentioned, the <code>option</code> column for text-based inputs corresponds to a placeholder value. It can be left blank (i.e. NA) or contain a character string. If they are left empty, the text field will display “Placeholder” as seen below. Otherwise, the character string will be displayed.</p>
<p><img src="graphics/survey-of-shinysurveys/text_input_placeholder.png" class="center" style="display: block; margin: 1em auto" width="300"></p>
<p><img src="graphics/survey-of-shinysurveys/text_input_character_string.png" class="center" data-latex="" style="display: block; margin: 1em auto" width="290" height="71"></p>
</div>
<div class="section level4">
<h4 id="select-input">Select Input<a class="anchor" aria-label="anchor" href="#select-input"></a>
</h4>
<p>Select inputs are great when there are many potential, discretely defined, response choices.<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> An example is the question “What was your first language?” which contains 15 options:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 15 × 7</span></span>
<span class="co">#&gt;    question      option input_type input_id dependence dependence_value required</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> What was you… Arabic select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> What was you… Armen… select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> What was you… Chine… select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> What was you… Engli… select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> What was you… French select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> What was you… Creole select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> What was you… German select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> What was you… Greek  select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> What was you… Gujar… select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> What was you… Hebrew select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">11</span> What was you… Hindi  select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">12</span> What was you… Itali… select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">13</span> What was you… Japan… select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">14</span> What was you… Other  select     first_l… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               FALSE   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">15</span> What was you… <span style="color: #BB0000;">NA</span>     text       first_l… first_lan… Other            FALSE</span></code></pre>
<p><img src="graphics/survey-of-shinysurveys/select_input_example.png" style="display: block; margin: 1em auto" width="300"></p>
</div>
<div class="section level4">
<h4 id="yes-or-no-yn-input">Yes or No (y/n) Input<a class="anchor" aria-label="anchor" href="#yes-or-no-yn-input"></a>
</h4>
<p>Yes or no questions are self-explanatory. An example is the question “Have you ever learned to program in R?”:</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 7</span></span>
<span class="co">#&gt;   question       option input_type input_id dependence dependence_value required</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Have you ever… Yes    y/n        learned… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Have you ever… No     y/n        learned… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE</span></code></pre>
<p><img src="graphics/survey-of-shinysurveys/yes_no_example.png" style="display: block; margin: 1em auto" width="300"></p>
<p>With an understanding of the available input types, I will now discuss how to implement a survey using this package.</p>
</div>
<div class="section level4">
<h4 id="matrix-input">Matrix Input<a class="anchor" aria-label="anchor" href="#matrix-input"></a>
</h4>
<p>Survey questions are often presented in a grid. Consider the question:</p>
<p><em>Please indicate whether you agree, disagree, or are neutral about the following items. (1) I love sushi. (2) I love chocolate.</em></p>
<p>Using the following data frame, you could ask that question. <a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a></p>
<pre><code><span class="co">#&gt;            question   option input_type input_id dependence dependence_value</span>
<span class="co">#&gt; 1     I love sushi. Disagree     matrix    matId         NA               NA</span>
<span class="co">#&gt; 2     I love sushi.  Neutral     matrix    matId         NA               NA</span>
<span class="co">#&gt; 3     I love sushi.    Agree     matrix    matId         NA               NA</span>
<span class="co">#&gt; 4 I love chocolate. Disagree     matrix    matId         NA               NA</span>
<span class="co">#&gt; 5 I love chocolate.  Neutral     matrix    matId         NA               NA</span>
<span class="co">#&gt; 6 I love chocolate.    Agree     matrix    matId         NA               NA</span>
<span class="co">#&gt;   required</span>
<span class="co">#&gt; 1    FALSE</span>
<span class="co">#&gt; 2    FALSE</span>
<span class="co">#&gt; 3    FALSE</span>
<span class="co">#&gt; 4    FALSE</span>
<span class="co">#&gt; 5    FALSE</span>
<span class="co">#&gt; 6    FALSE</span></code></pre>
<p>In the browser, that would look like this:</p>
<p><img src="graphics/survey-of-shinysurveys/matrix_example.png"></p>
</div>
</div>
<div class="section level3">
<h3 id="implementing-surveys-in-shiny">Implementing Surveys in Shiny<a class="anchor" aria-label="anchor" href="#implementing-surveys-in-shiny"></a>
</h3>
<div class="section level4">
<h4 id="ui-function">UI Function<a class="anchor" aria-label="anchor" href="#ui-function"></a>
</h4>
<p><code><a href="../reference/surveyOutput.html">surveyOutput()</a></code> takes in a data frame of the form described above. You may also add a title and description for your survey with the arguments <code>survey_title</code> and <code>survey_description</code>, though these are optional. It also takes in a <code>theme</code> color to style your survey. Typical names such as “red” or “blue” work, as well as hex color codes such as “#63B8FF” (the default theme). Further documentation can be accessed by typing <code>?shinysurveys::surveyOutput()</code> in the console.</p>
</div>
<div class="section level4">
<h4 id="server-function">Server Function<a class="anchor" aria-label="anchor" href="#server-function"></a>
</h4>
<p><code><a href="../reference/renderSurvey.html">renderSurvey()</a></code> must be placed in the server component of a Shiny application. It originally required both the data frame of questions and the theme argument. However, these are now deprecated and hsould only be placed in the <code><a href="../reference/surveyOutput.html">surveyOutput()</a></code> function.</p>
</div>
<div class="section level4">
<h4 id="basic-survey">Basic Survey<a class="anchor" aria-label="anchor" href="#basic-survey"></a>
</h4>
<p>A minimal example of a survey can be created with this template:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shinysurveys.jdtrat.com">shinysurveys</a></span><span class="op">)</span>
<span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span>
  <span class="fu">shinysurveys</span><span class="fu">::</span><span class="fu"><a href="../reference/surveyOutput.html">surveyOutput</a></span><span class="op">(</span>df <span class="op">=</span> <span class="fu">shinysurveys</span><span class="fu">::</span><span class="va"><a href="../reference/teaching_r_questions.html">teaching_r_questions</a></span>,
                             survey_title <span class="op">=</span> <span class="st">"A minimal title"</span>,
                             survey_description <span class="op">=</span> <span class="st">"A minimal description"</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu">shinysurveys</span><span class="fu">::</span><span class="fu"><a href="../reference/renderSurvey.html">renderSurvey</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">}</span>

<span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></code></pre></div>
<p>This creates a functioning survey that looks like this:</p>
<p><img src="graphics/survey-of-shinysurveys/minimal-survey.png"></p>
<p>However, when a participant submits their results, nothing happens. By design, {shinysurveys} is minimalist. An extension of this is not imposing any requirements for submission actions, but rather allowing the survey designer to customize them.</p>
<p>More specifically, the user-interface includes a “submit” button (not shown in the above picture) that requires the programmer to define what happens when it is pressed. Some examples would be saving or displaying user responses, or displaying a message as seen on the <a href="https://www.jdtrat.com/project/shinysurveys/shinysurveys-final-demo.gif" class="external-link">gif here.</a>.</p>
</div>
</div>
<div class="section level3">
<h3 id="advanced-features">Advanced Features<a class="anchor" aria-label="anchor" href="#advanced-features"></a>
</h3>
<div class="section level4">
<h4 id="dependency-questions">Dependency Questions<a class="anchor" aria-label="anchor" href="#dependency-questions"></a>
</h4>
<p>I use the term question dependencies in reference to the situations where a question should only be shown (i.e. asked) if a specific response is given to a preceding question. The questions included with the {shinysurveys} package contain many dependencies. One example I I mentioned when discussing <a href="#multiple_choice">multiple choice</a> and <a href="#text_input">text-based</a> questions is the dependent for “Which best describes your gender?”</p>
<pre><code><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 7</span></span>
<span class="co">#&gt;   question       option input_type input_id dependence dependence_value required</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Which best de… Female mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Which best de… Male   mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Which best de… Prefe… mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Which best de… Prefe… mc         gender   <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>               TRUE    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Which best de… <span style="color: #BB0000;">NA</span>     text       self_de… gender     Prefer to self … FALSE</span></code></pre>
<p>Focusing on the columns <code>dependence</code> and <code>dependence_value</code>, the text-based question will only show if the multiple choice one, with the input id of “gender” takes on the value “Prefer to self describe.” That is, a question with non <em>NA</em> values in the <code>dependence</code> and <code>dependence_value</code> columns will only show if the question with the input id from <code>dependence</code> takes on the value in <code>dependence_value</code>. This can be seen below:</p>
<p><img src="graphics/survey-of-shinysurveys/dependency_example_1.png" style="display: block; margin: 1em auto" width="300"></p>
<p><img src="graphics/survey-of-shinysurveys/dependency_example_2.png" style="display: block; margin: 1em auto" width="300"></p>
</div>
<div class="section level4">
<h4 id="required_questions">Required Questions<a class="anchor" aria-label="anchor" href="#required_questions"></a>
</h4>
<p>Survey designers can define questions that must be answered by adding the value TRUE to the <code>required</code> column. If a required question is not answered, the user will not be able to submit their responses.</p>
<p><img src="graphics/survey-of-shinysurveys/required_submit_disabled.png" style="display: block; margin: 1em auto" width="300"></p>
<p><img src="graphics/survey-of-shinysurveys/required_submit_enabled.png" style="display: block; margin: 1em auto" width="300"></p>
</div>
<div class="section level4">
<h4 id="multiple-pages">Multiple Pages<a class="anchor" aria-label="anchor" href="#multiple-pages"></a>
</h4>
<p>Some people may wish to have survey questions appear on different pages. As of v0.2.0., users can add an additional column <code>page</code> to the data frame of questions. The column can either have numeric (e.g. <code>c(1, 1, 2, 3)</code> or character (<code>c("intro", "intro", "middle", "final")</code>) values. For detailed examples, please visit my <a href="https://www.jdtrat.com/blog/multi-paged-shinysurvey/" class="external-link">blog post</a> on the matter.</p>
</div>
<div class="section level4">
<h4 id="aggregate-response-data">Aggregate Response Data<a class="anchor" aria-label="anchor" href="#aggregate-response-data"></a>
</h4>
<p>As of v0.2.0., users can automatically aggergate response data upon submission with the function <code><a href="../reference/getSurveyData.html">getSurveyData()</a></code>. Please see its documentation or dedicated article for more details.</p>
</div>
<div class="section level4">
<h4 id="user-tracking">User Tracking<a class="anchor" aria-label="anchor" href="#user-tracking"></a>
</h4>
<p>Built into the survey is the ability to track users based on URL parameters. If you deploy your survey on <a href="https://www.shinyapps.io/" class="external-link">shinyapps.io</a>, or run it locally in a browser, you can add a URL parameter after the backslash as follows: <code>?user_id=12345</code>. A live demo can be found here: <a href="https://jdtrat-apps.shinyapps.io/shinysurveys_user_tracking/?user_id=hadley" class="external-link uri">https://jdtrat-apps.shinyapps.io/shinysurveys_user_tracking/?user_id=hadley</a></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>{shinysurveys} was developed to integrate behavioral data collection into existing research and/or analysis pipelines in R. In this vignette, I documented the core features of the package. By extending {shiny}, a shinysurvey can make use of the data manipulation and visualization tools in R, facilitating automated data analysis and real-time metrics for participant responses.</p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>I assume familiarity with the basic layout of a Shiny application, as briefly outlined above. For additional information, please check out RStudio’s <a href="https://shiny.rstudio.com/tutorial/" class="external-link">great resources</a>.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>In the following code, I use the prefix <code>shinysurveys::</code> whenever I’m using a function specific to this package. If you are unfamiliar with this notation, see <a href="https://r-pkgs.org/namespace.html" class="external-link"><span class="citation">[@rpkgs]</span></a><a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>Note that you may use multiple matrix questions within a survey. Each item within a matrix question must have the options repeated, and share the same input id/dependence/required values.<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>Required question functionality will be discussed in more detail in the section <a href="#required_questions">Required Questions</a>.<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>As of May 2021, these do not support multiple options selected at once, though I anticipate adding this functionality in the future.<a href="#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>Note that you may use multiple matrix questions within a survey. Each item within a matrix question must have the options repeated, and share the same input id/dependence/required values.<a href="#fnref6" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="author">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
